<ng-container *ngTemplateOutlet="labelPosition === 'before' ? labelTemplate : null"></ng-container>
<div class="go-form__switch-toggle" (click)="toggle()">

  <input
    [id]="id"
    class="go-form__switch-toggle__input"
    [ngClass]="{'go-form__input--error': control?.errors?.length && control.invalid, 'go-form__input--dark': theme === 'dark'}"
    type="checkbox"
    [formControl]="control"
  >
  <span class="go-form__switch-toggle__toggle"></span>
</div>

<ng-container *ngTemplateOutlet="labelPosition === 'after' ? labelTemplate : null"></ng-container>

<go-hint *ngFor="let hint of hints" [message]="hint" [theme]="theme"></go-hint>

<div *ngIf="control?.errors?.length">
  <go-hint
    *ngFor="let error of control.errors"
    [message]="error.message"
    [label]="error.type"
    [theme]="theme"
    type="negative"
  ></go-hint>
</div>

<ng-template #labelTemplate>
  <label
    [attr.for]="id"
    class="go-form__label go-form__label--inline go-form__switch-toggle__label"
    [ngClass]="{'go-form__label--dark': theme === 'dark', 'go-form__switch-toggle__label--before': labelPosition === 'before'}"
  >
    {{ label }}
  </label>
</ng-template>
